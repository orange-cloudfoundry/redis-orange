---
name: ((deployment_name))

instance_groups:
- name: redis
  azs: [((default_az))]
  instances: ((node_count))
  vm_type: ((default_vm_type))
  stemcell: default
  persistent_disk_type: ((default_persistent_disk_type))
  networks:
  - name: ((default_network))
  jobs:
  - name: redis
    release: redis-service
    consumes:
      redis_sentinel_conn: {from: ((shared_sentinel_master)), deployment: ((shared_sentinel_deployment))}
      sentinel_slave_conn: {from: ((shared_sentinel_slave)), deployment: ((shared_sentinel_deployment))}
    properties:
      bind: ((redis_bind))
      port: '0'
      password: ((redis_password))
      admin_password: ((redis_admin_password))
      exporter_password: ((redis_exporter_password))
      maxmemory: ((redis_maxmemory))
      maxmemory_policy: ((redis_maxmemory_policy))
      replication: true
      replica_password: ((redis_replica_password))
      sentinel_password: ((redis_sentinel_user_password))
      tls: true
      tls_dh_length: ((redis_dh_length))
      tls_replication: true
      tls_keys:
        certificate: |
          -----BEGIN CERTIFICATE-----
          MIIECjCCAfICFGusl0TjbsYRkOhMhkP+fDlkgGhbMA0GCSqGSIb3DQEBCwUAMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwHhcNMjAwOTEwMTEyMzIyWhcNMjEwOTEwMTEyMzIyWjBKMRMwEQYD
          VQQKDApvcmFuZ2UuY29tMSIwIAYDVQQLDBlyZWRpcy1zZW50aW5lbC1zaGFyZWQt
          dGxzMQ8wDQYDVQQDDAZTZXJ2ZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
          AoIBAQCX65Qa4HSMROLsYzLAtVQiYgCY8+R64vBq1DqDdZTmqickW3PO3HUdVVL1
          ebPgsUlBsEKNsyJCw8yxWKoYthJq/fWc3o/Vbox6uBXReP7asRacL/kjGBvFNV88
          ydO5vAZnve47hwXHr9czYRkXGcClQH/oEdqOAc76r+AH2ihQASp2CM3CtuwMkxLQ
          OfcE6aFpuuRf9kHK9hNo+5cb3RdG4tM6J0HjS6hVoLS64pETo/+8t3y2rVz6arW8
          h7R14L5Gkzz63MB0ohIWtUrnloE5gzRVXwCJzJEelK78ua6Jq2MigNdCigktQNtM
          k2fs/tYsLBNnxjZDgsY6v38OtEEvAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAAo+
          ofQ++tadFeDy3U/8lZ7f3p3/0rebNkhwOFxFv8BBC5a6tflpXK1CR5j0yAFqODJh
          ao78Ew+KDi1gUZN+Z9DIv9PDdvkuy8/yb5kpCjS9MnOzU+JuUBQAvYrKbldFjNyj
          XFv0SyMc5Hwhr7eQdG0Q/US/9nhCd6fC8jH7BaOZRObERoN+QCWR5BYnx/+nCcut
          eVJZExwdOdHLSunb9uUyGd1YEdL5XSiWKMsjqQZ5TcExpk3jEYTVAyf9H+TGwjfE
          m3ik/oRPwhJCYiBkzud7FqexhtFm2B0vYAc57qTyPDVncvZYBrjh4lvlqkpfzclm
          IW+Nh9Q6BcxFLvToRDxxflRYLAFm2NoCk3oTf59yMddJyt8/PtVWmnkvqbzmaW5N
          AValczuqds/HbbK9nJ43ppoiJClnWdyHvZalzeun4oh4QwE3IaFblJM8xmh+sGzh
          ddv4b/HN7LpAC/gbtNvDnm19ANC/bEyWhADFCNfwkUmIN0gT8CueFwdXDfFvbJB7
          Z4RuQLpFF1qsY8XNcX/hAiwvwVH1uFHB6/Zik16KYfgH4haKbbMprjXtFuqpStCY
          vSNLAweGR8dGyexfr9aIlOj9nhmaez1Nn0cW8uxC69litGGyA9oILrKvzsZzVyVH
          JrS/9mR0sC6GMzDTuw5Od3z9kMeIVwewRxG4Av65
          -----END CERTIFICATE-----
        private_key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAl+uUGuB0jETi7GMywLVUImIAmPPkeuLwatQ6g3WU5qonJFtz
          ztx1HVVS9Xmz4LFJQbBCjbMiQsPMsViqGLYSav31nN6P1W6MergV0Xj+2rEWnC/5
          IxgbxTVfPMnTubwGZ73uO4cFx6/XM2EZFxnApUB/6BHajgHO+q/gB9ooUAEqdgjN
          wrbsDJMS0Dn3BOmhabrkX/ZByvYTaPuXG90XRuLTOidB40uoVaC0uuKRE6P/vLd8
          tq1c+mq1vIe0deC+RpM8+tzAdKISFrVK55aBOYM0VV8AicyRHpSu/LmuiatjIoDX
          QooJLUDbTJNn7P7WLCwTZ8Y2Q4LGOr9/DrRBLwIDAQABAoIBAGairWiLA7JQR87U
          JdGzr6ea9jRfcZjkAPDreKyfn31GrzMM5ex3XFf48RcOpcvDem56mjwJLbhVd9DI
          ygHv3/mQoYLdiebzzMyL2ZGvYN52jYPvlS10eC5/pFv5LqVothsYYf6tdeY2kfkQ
          PFcy+seqD7/FcBZIeoE6mOw1Is8JMA+N9eIPQfaxJYIrlMPusWWlr/ygHd+l9+P/
          NmBd8u84wmbfbeQhLD1UHOQxd3DNG2lIJ8lTup0KaQm6szFGhBugwlEQgDfd/rJD
          62SwX3k128obJjgTtgmMpLSi0Ii+U3HBBIYzDnXRCGe0uVhbCPhtjC10gv+a3+A7
          qOjj1sECgYEAyeyqI8oaAXL+pJQMGQ7ls3Tm4QwYkQg4IbdqAf7cp3kzjwrI2Q68
          nsqk0xPNgJrngjB6z1R0nE5El2oRPvE1DkzSFUTYJyM665IVLiI1sQ2zCL0QClfy
          wHzjEsZhliKlxze5H1q39T8prKpXlV5OXUey3DPq7x/7qSCZ8PWujCkCgYEAwJrF
          8ZjtYJvrvIDE/UFqJWQxcHQg4o5P/3diexjcJ0qfOsBGrRUi9alq+U979h25zm88
          yWfkCU/dF6kZtjrEln/pu5/78RXWIBBe5+u5pUKb/Q/0NPe4SnAL3Uk+ACTiJzzV
          mtybK0LDiiswahtNo93kBADy16PCgizWJrbFjZcCgYEAkKKL0Czwab9T9NDyxXQt
          RljjE6oVYrVPd58oOJu0s+UV8EzaRtfOdbNTUrophgfu8gsFvMKS8G8DpK1eAwbF
          aSPPi1qPtaD/kENIFo58hQD6D7VU6wPKJuSNxiIBPog81LDuUi4p/Gos0LgHGj+9
          xAUaca5ihrwTCDcI7VcdmtkCgYB+AcQWt7I1Tkz/2k8GUVGcfNxLce5BylFUFUr8
          tdryacOasEiM3BMvHVO7H+E9t1zkTao7KhjqbrF61UrZCcGrpKvJ8HTn2R1phMxS
          dsnR8K4U9ecS8C5FpOBeOZiyh27dtNMaqdFqkBdVwcO+53X4Cyct52D4605J1AOW
          +GRuqQKBgFLmuE9H+YcLJ5ZjN0tzvaoUrf7mGdtLHMS9Oi5O289vL3LiS+htfKpl
          djX22ZhlubBS6V7TAn2+3Wbi0SQzqY32uvAx1ACcr1aCkt+VcNqVooFBUwgKMW67
          TGK3372emAaKQHz9vbTgAF/ulkDMW39MwCdgaRxKu2kbAz5RcJ1z
          -----END RSA PRIVATE KEY-----
        ca: |
          -----BEGIN CERTIFICATE-----
          MIIFUzCCAzugAwIBAgIUGfpxaumpt2PF62TT2fDJV5DvfH0wDQYJKoZIhvcNAQEL
          BQAwOTETMBEGA1UECgwKb3JhbmdlLmNvbTEiMCAGA1UEAwwZcmVkaXMtc2VudGlu
          ZWwtc2hhcmVkLXRsczAeFw0yMDA5MTAxMTE5MzFaFw0zMDA5MDgxMTE5MzFaMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC/Fkl+u4iU
          Hv3FpHnQoGVQE8p+vuPYorECZ6T2AjN+o0cGERuKIqGxNoxN3keltcCtN451fvid
          K9j3epDUPp3RRKoqInqq+uQtwLpUXexdpmnYJ8uZUdc8jSzrc0gv9uZetw/tHNBU
          CGKKwd44+Q5Zet9QPglsQvOKU/cZEUCw+a3ORzXzelXxr3nuMbBUyUQtUpqpHDEl
          QViddjjTBDCmVpP6grYsyteHzVoL6k5kDf+2V7kssQbDepCWsqjKhz+Tkaa3bPq1
          iIpIIFDAYK+HX3lIFYrPrBobd0e47He1qSAzxoGCWyNzqciukzKB5KT5E5/LybNx
          v4rH84xIkRZGViA/P0AgM4NmfjTCA/RizU8C9VJQc9lwsV9GftiG0Rd2ooL9sI6E
          bY9QKbo5qlw3EBwsjcXHM1zGQXBM6/Ps1f83Cr73E/jlzPvyWBm7FBz/NNepy6Gp
          MClZWp7BF1+O68dpF07uZF0GheAPhup2eRoDBIA3XzEzfcnbbFwGu4mUEOmhQSC5
          TUxIKUUyvt+GBJxOtbgxnqc/teTuHdGQM31nMfLO5cI+xlymBB47qyjxww7NjXiP
          jwCvtFwNE79SNYlGxQHGhY2vKEr8lPhfauFQvdIGmGQUhdf6vU/9ppErBzvz7aPN
          IC0xn53Zl+DyTIwQhCdMxT1LUzfOtSLw9wIDAQABo1MwUTAdBgNVHQ4EFgQUo9s4
          8M+ZGMEYFzxONvBxDuNsXBMwHwYDVR0jBBgwFoAUo9s48M+ZGMEYFzxONvBxDuNs
          XBMwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAgEAi3ZvWAsMly9y
          2xHNwc7KfUGN2nSK6ssCwnz+Ni9lAGbHzn0/byqfnfT0pghqtfp7mD0sYvpkKv9+
          iI47hKoJ7xwcvKXGnWORBHMqEIdiZwxynm+w06/NU1bDfYyt1YZkqiAxIoYu6EUS
          ItyDBsSM/2DYNsv+OyF5zyhH9MjPdSGORW4TWrED00JiydRXV9Q3vDb1SW+o6CDO
          /PWitlgY3ssMmKmrFaQzCvv/Y/w4WMyyywty6+vnXcO1KXyDfCB2MnjEe326CAtZ
          2LsxCRUOJdDqTjEreDuXbBmiOsI1m9p1UYihHbQCuWVV10vGlU0+rLn19PTne6BS
          F9EOsMoTzkd+5OUK09H18Fw677fONpZ0PeufJSLE3BM8OsoYVaCRPsFsnJst9VH4
          BWYoSsIQYOFav9zA4u55jnrNkKFt6moaIrtkuqJKDOUTnnkAUDwjTn+QN22OcRmH
          Eyh4E2hdyTPYM1csPOSkMsOleNMohxk+1oXCWswMeqvTe5zeNPdJ5+ogoZS7j7tm
          IGNHgNcC5Wfi2eT+fKsDdKBCgeK+XMTmOjUtRle+h+Q3O7T74U5NexVrHf+R10K7
          DflJPxUrSbxH0phFgxqKFykhcQfEXzLan/th+B1cnp2+y2kIpNpkxUnRGAh+iKtL
          PTDhxGQ3hAlmpK4bZK8DXEBYIsiGRCM=
          -----END CERTIFICATE-----
  - name: redis_check
    release: redis-service
    consumes:
      redis_sentinel_conn: {from: ((shared_sentinel_master)), deployment: ((shared_sentinel_deployment))}
      sentinel_slave_conn: {from: ((shared_sentinel_slave)), deployment: ((shared_sentinel_deployment))}
    properties:
      tls_keys:
        certificate: |
          -----BEGIN CERTIFICATE-----
          MIIECjCCAfICFGusl0TjbsYRkOhMhkP+fDlkgGhdMA0GCSqGSIb3DQEBCwUAMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwHhcNMjAwOTEwMTEyMzQyWhcNMjEwOTEwMTEyMzQyWjBKMRMwEQYD
          VQQKDApvcmFuZ2UuY29tMSIwIAYDVQQLDBlyZWRpcy1zZW50aW5lbC1zaGFyZWQt
          dGxzMQ8wDQYDVQQDDAZDbGllbnQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
          AoIBAQDqCAoLysryH8USLTO4VeuUs1bjQYSazkvFd6sFcj8YtLn9Qfmi81zy+CAt
          f8WZBG+/5XIP0o1bkZx5Xp51Q6cTTgf1QRETaRkhdTcr1a8Ehln6oyzZw/YD0dPd
          SwyCbDxd3DOeZyISZ28srtv5VEOP0RD3h6JzpayYFEGNMb7ioGueUo3fxkgQxpoQ
          NmOfJ0AftYhVIoYl56Z07gG+FkL5ptrCsVpp0krisxQ4dS2EbUR1v8/LzuRf5bQt
          gEeaUNSKqnVHTOO7/kfDzPvzCbQFJjE2/KxlJLAIsx4HXrFb/D3ybJ3U5wD9BYrC
          uLDiyMo+fnDxGtoLHu26AiaO7GV/AgMBAAEwDQYJKoZIhvcNAQELBQADggIBAFvS
          Ln79GwXfxTCIpmm0PUybbEmyEB9/C5h6yfmVCG69STQ76s6xiWZnR5VzTU9w9Top
          0YbOLbF7Z130vHE6rkbfjbfCV2fq2PQUDFE4heFuFMe/bfekdNm9di/UfB9uFw5e
          frhri65NMYxGRs3FpVIbK/Rk6JGXGCccYyFhDdivTm4ClYoNEJYGA8iOP+rooLjj
          056haOB/hvF3eTFME/1yMmGeoy2Hg9mnP6hAFGsZHAaOeSzTa37aIJL4g0C5YMjf
          BB1YvrK+GJGi5aFAVrxzP7Xd02BHOTFM+z7mbS9kW1/0H5wBDgRM6wjscrbWq91k
          A/Vc0E/gApuhrjW8BKQXUthrg+ue13njvGhh/Ust1XxOA5s6fNIXCVJSBItD0Uw9
          pHWIvLKDHbVO/BC/uHbpkjg/bwNRcXi3sJRy7Y51KJ/cLw2KqIfkclR2pzGvcrG1
          fNzSTnBW/c6luzIujHCExmJnM15SV+K439toWiirL5BCUH2Ib0HUXjmOW6HBZTch
          rR2G2svLSgZvTZklIk9Kebm12JrIr0ZhSO4RThqbWBet5qt15NO3Cr8GSAoWtBOp
          WBXBTeAxVlhk+TdlGEu3KrDNiwFgCj7Zacr8ozkWMKB40p5dKEEeAJ5O8fNhTN4B
          fJsexTO2puAaHlPSQNunD1FpOLgFLVVLUa+zYjdE
          -----END CERTIFICATE-----
        private_key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEpAIBAAKCAQEA6ggKC8rK8h/FEi0zuFXrlLNW40GEms5LxXerBXI/GLS5/UH5
          ovNc8vggLX/FmQRvv+VyD9KNW5GceV6edUOnE04H9UERE2kZIXU3K9WvBIZZ+qMs
          2cP2A9HT3UsMgmw8XdwznmciEmdvLK7b+VRDj9EQ94eic6WsmBRBjTG+4qBrnlKN
          38ZIEMaaEDZjnydAH7WIVSKGJeemdO4BvhZC+abawrFaadJK4rMUOHUthG1Edb/P
          y87kX+W0LYBHmlDUiqp1R0zju/5Hw8z78wm0BSYxNvysZSSwCLMeB16xW/w98myd
          1OcA/QWKwriw4sjKPn5w8RraCx7tugImjuxlfwIDAQABAoIBAQCS0xBabZP9a2kc
          CjfUgjMWS51LXiNva9WlwXoOJKrpORkmhmmzjbLWzEyDvxGc+meRoMV6n8IHnMbq
          bi5Dq3n6Zo4fk/6+isU1dHB0k88Fq7RvxkexJ3wE0XN19kuW14jX6fqIenOp0DKz
          edCQEAmDBMr8QJ/uphYuIyctCfSUAJXbyEs5rnJKqb/LhOshB4wqwX7MaJ9Ef7Fx
          nnHRZQngWZHBrSpSQfPLitNi+COfQm+/oURqYnwiL7FZgdRA8s6ZtUhi0zdkixd1
          kWdBPsnmKV5twxqOojORRpkx6NpLHle+PJizAclQvZuX9glXfXLhNIP7oxXSVks5
          dS3j40KhAoGBAPg1iM/4TRdTUwpRsw0YGZKjxJg2CKd8aI3uPd/lyGywKJND9iYf
          SyHdC8bX78huKXmWDD8yoy+6tizQyVpy1KjVBmR+ZfvhJRwtQFlHPA9ypvati6XW
          CPwfY21YLpl85O2M2tA7mqfL4PPxHHn1WNZGqiyOCnqkOk3aFxmeEoPLAoGBAPFg
          lLM1JGN3BPej/A/I6S8moXS6wwcNH59N+s0kvryTiiu7Aii2vTduz8egDpso5+xu
          3/IN6HIxs5qIGrw5Jg0ykNnExSuZLtGtKGl47yum37uASrHSJezSqLXvp4/dV//z
          FBasSQ8VWwE6jOPI2/Otd1aw+RooIaHkv0vYNnadAoGAP4RbnXTaLYTqNDLSEiC/
          spHsJlN1hX7FtsRn2xsPXhj6WS1EGV9at7C8accqmmzueinWunl33yf1pKRNUrMe
          DpJtD1x1Nq7X80z1MaOUEBPz/B5PJUIPjI1vwTSWwDqAzvWDrVQDcLswttxVwDPz
          5umwdLRopBfQv8l2rdyQul8CgYB0yVMJJjQ1/9cibnA9vuq8Cofh757/IWVkcZlg
          el/i48vdfrz7r/b7BB16K8IFZpRYPAkUl5AY+F067pFo8omrpwSYqPDxOEuD3bEI
          3x9xUms70EXTpab936sLZCoBnInAZ/8XPUKYDrAadxbF+2AYlZyBEF1mP3aOWxwH
          eVRYrQKBgQCvIMUDLl9ES97S9ChtCdX6h7ATeHBNF0Pw42KKSy5dRi8JPbgkLm0D
          CNI52ymQItsL89lNYSor1zQ1WxnRVHHl++h8nJjgC1/8ECGQ57UFVel5XzhYfFC4
          U9P7sVxw3do/yi30qKAJyUVbax5aUHysyRNzJvVt3fAY0sMxhhYbfg==
          -----END RSA PRIVATE KEY-----
        ca: |
          -----BEGIN CERTIFICATE-----
          MIIFUzCCAzugAwIBAgIUGfpxaumpt2PF62TT2fDJV5DvfH0wDQYJKoZIhvcNAQEL
          BQAwOTETMBEGA1UECgwKb3JhbmdlLmNvbTEiMCAGA1UEAwwZcmVkaXMtc2VudGlu
          ZWwtc2hhcmVkLXRsczAeFw0yMDA5MTAxMTE5MzFaFw0zMDA5MDgxMTE5MzFaMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC/Fkl+u4iU
          Hv3FpHnQoGVQE8p+vuPYorECZ6T2AjN+o0cGERuKIqGxNoxN3keltcCtN451fvid
          K9j3epDUPp3RRKoqInqq+uQtwLpUXexdpmnYJ8uZUdc8jSzrc0gv9uZetw/tHNBU
          CGKKwd44+Q5Zet9QPglsQvOKU/cZEUCw+a3ORzXzelXxr3nuMbBUyUQtUpqpHDEl
          QViddjjTBDCmVpP6grYsyteHzVoL6k5kDf+2V7kssQbDepCWsqjKhz+Tkaa3bPq1
          iIpIIFDAYK+HX3lIFYrPrBobd0e47He1qSAzxoGCWyNzqciukzKB5KT5E5/LybNx
          v4rH84xIkRZGViA/P0AgM4NmfjTCA/RizU8C9VJQc9lwsV9GftiG0Rd2ooL9sI6E
          bY9QKbo5qlw3EBwsjcXHM1zGQXBM6/Ps1f83Cr73E/jlzPvyWBm7FBz/NNepy6Gp
          MClZWp7BF1+O68dpF07uZF0GheAPhup2eRoDBIA3XzEzfcnbbFwGu4mUEOmhQSC5
          TUxIKUUyvt+GBJxOtbgxnqc/teTuHdGQM31nMfLO5cI+xlymBB47qyjxww7NjXiP
          jwCvtFwNE79SNYlGxQHGhY2vKEr8lPhfauFQvdIGmGQUhdf6vU/9ppErBzvz7aPN
          IC0xn53Zl+DyTIwQhCdMxT1LUzfOtSLw9wIDAQABo1MwUTAdBgNVHQ4EFgQUo9s4
          8M+ZGMEYFzxONvBxDuNsXBMwHwYDVR0jBBgwFoAUo9s48M+ZGMEYFzxONvBxDuNs
          XBMwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAgEAi3ZvWAsMly9y
          2xHNwc7KfUGN2nSK6ssCwnz+Ni9lAGbHzn0/byqfnfT0pghqtfp7mD0sYvpkKv9+
          iI47hKoJ7xwcvKXGnWORBHMqEIdiZwxynm+w06/NU1bDfYyt1YZkqiAxIoYu6EUS
          ItyDBsSM/2DYNsv+OyF5zyhH9MjPdSGORW4TWrED00JiydRXV9Q3vDb1SW+o6CDO
          /PWitlgY3ssMmKmrFaQzCvv/Y/w4WMyyywty6+vnXcO1KXyDfCB2MnjEe326CAtZ
          2LsxCRUOJdDqTjEreDuXbBmiOsI1m9p1UYihHbQCuWVV10vGlU0+rLn19PTne6BS
          F9EOsMoTzkd+5OUK09H18Fw677fONpZ0PeufJSLE3BM8OsoYVaCRPsFsnJst9VH4
          BWYoSsIQYOFav9zA4u55jnrNkKFt6moaIrtkuqJKDOUTnnkAUDwjTn+QN22OcRmH
          Eyh4E2hdyTPYM1csPOSkMsOleNMohxk+1oXCWswMeqvTe5zeNPdJ5+ogoZS7j7tm
          IGNHgNcC5Wfi2eT+fKsDdKBCgeK+XMTmOjUtRle+h+Q3O7T74U5NexVrHf+R10K7
          DflJPxUrSbxH0phFgxqKFykhcQfEXzLan/th+B1cnp2+y2kIpNpkxUnRGAh+iKtL
          PTDhxGQ3hAlmpK4bZK8DXEBYIsiGRCM=
          -----END CERTIFICATE-----
  - name: redis_exporter
    release: redis-service
    properties:
      skip_tls_verification: true
      tls_keys:
        certificate: |
          -----BEGIN CERTIFICATE-----
          MIIEDDCCAfQCFGusl0TjbsYRkOhMhkP+fDlkgGhhMA0GCSqGSIb3DQEBCwUAMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwHhcNMjAwOTEwMTEyNDI0WhcNMjEwOTEwMTEyNDI0WjBMMRMwEQYD
          VQQKDApvcmFuZ2UuY29tMSIwIAYDVQQLDBlyZWRpcy1zZW50aW5lbC1zaGFyZWQt
          dGxzMREwDwYDVQQDDAhFeHBvcnRlcjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC
          AQoCggEBAK19IPmvaFPXJVTQGA+6XYg7FjWnizj4pPE2R7+rt2dfJTZYB14Y0WJB
          wKiE5PoqarIRG2lv1xKcIu15SgQIHchWpuQ4muW/wxcSSenW3pabxnqv1CQ2qSvM
          Sx1frIMuEZIBI+m0CD131Yy6fd5+xo8ZKScyRci5x56HTANXYqRQu+ea3P1PjiAr
          OHnUPa0XogrZ9eNoVkk7IdbS7+H1FualPtxM971nUi9wEVyWCi67SsIso+qfon5m
          eTIWJQX2EZmN/Iqo2sCMXJ/IXiTYUsjqNvIXwCL6ISbH8uOwEkoNR3ykgVW/DuPS
          6d78aKQfhE/j3rFiSsJ4g9qHxVgVwocCAwEAATANBgkqhkiG9w0BAQsFAAOCAgEA
          JSXssi7sVQy242KKpw9D9PpTFOuQ99nMP2ToeyDRN8v+1Autp/ABK8S5s9jqjZPX
          kFCEeUw17v4BHKXqcpA6g3Gb0x5GiTmDeaLRkJtrJBHlcW8IwQJ+45Sh2yCmA7zM
          XrNLDmaHjUK+icVySv37n1TzrJnfW8zwJ1uCTSfrwEFXX0kj1yPBf310LN325ueq
          NL+f65rxfcTQQTJwRnJ+c4/JbE2WmSCP81UoGMumGdDIeaAX/VHmoXxFfrdfW0ex
          N++T8+dW2OoCisVOZIdlvwr4aUgqekY6gYCOhFnlGfksYa0WHUObdpl29/z0RsHx
          O6+JYNMjPov3uMuOIfgl4nEYG0WgHZQ3a+xiS7cN3T0+33RMTlsA+sYkIw+iFCwk
          /9qhBTg+UMjmP2kspbkDX5tAsolFKOCQjqKQTzZ3QfNzZXS8DD3pz/z2Q1++VUSH
          rYVRFoF8cvY5Wb7u5G8+rihE1mTMfsVx9k0nuAS6wR0DtAD5AD1C5qCCbzlYYQl6
          Ek1zFAdeTjMxIRdrbA8Nju+k7Wr2sYEC6YOvtiY94IxFjjBUWIiYkzbN6BH6ekGp
          DvsFKmRUBVNBUFwhSTIVSxlajG0mHit/pTcT9U0CQQiIXLgN3hqji4TqHtklPly2
          X1RZuHPY9pN4ox4GGnItUVLVcKlWGU3rHsY/XscD+bw=
          -----END CERTIFICATE-----
        private_key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEpAIBAAKCAQEArX0g+a9oU9clVNAYD7pdiDsWNaeLOPik8TZHv6u3Z18lNlgH
          XhjRYkHAqITk+ipqshEbaW/XEpwi7XlKBAgdyFam5Dia5b/DFxJJ6dbelpvGeq/U
          JDapK8xLHV+sgy4RkgEj6bQIPXfVjLp93n7GjxkpJzJFyLnHnodMA1dipFC755rc
          /U+OICs4edQ9rReiCtn142hWSTsh1tLv4fUW5qU+3Ez3vWdSL3ARXJYKLrtKwiyj
          6p+ifmZ5MhYlBfYRmY38iqjawIxcn8heJNhSyOo28hfAIvohJsfy47ASSg1HfKSB
          Vb8O49Lp3vxopB+ET+PesWJKwniD2ofFWBXChwIDAQABAoIBAQCpmktTbUS7ufe3
          61uqfJIVrVXwDCQSBRoS6fLIkZHRz/UsJHDHb9G6kfdLh+fmHPODsy+uKvUCL3wB
          1nIicODUysmLET903bxWYL27iiC+8fjeVeg5oupNdAH27GJVOANbThwSy7rGhNFT
          K7oDesKYgIt30zDfo6df9nq8RYCciuifFP3YorJrdTrv51PJsYCFINjDklRXpwH1
          wufgQeqzHsQcpiU33T6m6W66Fz7v+3LKsz2f4oX+xvXFSn56q0peRHTjHgaiDScb
          dzL4L2hpptAOVBRnJGeraHFgE3pbKJqoKl9PbaMmLa80Gn6zil9OHwGcdKaEUkmA
          8nd1T0oJAoGBANXTaluChokC0k8DEtEkOe7+9yxPEpGAeKdXYJE4R8xKj74HDD/4
          T0TeMkBvM1C4foNZ6VfJx4oU5ni3drCMI7MHJjQyt7JZQQ7oo3nk57m7AjmiOmor
          3b7NDrUY0JrM+6esLk57ouz6/cGMRb6emAvdC0OcHf8jA/Z2aWro8DsbAoGBAM+0
          /2YlhugzgTwjYmdVCGFqeXUYyrcG8XgqT6L9DUawlYMnIany4frxzM6yEt3PTMM6
          KROLd/SbAsRGX8fSRG8uBLFbpn7NUi31jC++Ko6W4Kyvs2LXrniv6QTLvJAKHvVp
          M2/MkJCK/5w3CmL8bTxDdsW4IVE1forQHDnWlIEFAoGAOjnFvoF+jRSdnDJkD1tk
          AzaerAwkLEblk/vxKdo/gtvS5JYaudiuDTzMRkuBl7uFh9MV/XfOxEUItVqQEWc3
          2Wpa9t/QsdooIx0qVukESMkpw/PvIDYtveUs2heVxnGHHZN/UJPOO+Xk76142H1r
          Pd/FT3XVnUI1tAluj1Q7Bn0CgYBy7B1nwhm7vkuiH53huI2zgLsFDBuVWzUdnKOF
          defzld6Tu4IHy0g3lbQRJTwFGB7L4hE6LC/J2j6UpK94GyIcNeUI0MH1ZNs0bKkM
          /XYEgPx875YceWOiiQovyh5hwAfTF0sLb68JGq9FGrsXe71g258K1M8yZJvIaE9F
          vTFblQKBgQCZOVg0blGGnXydcZkzqRJd54M+DGGmrSNYoVxq3c3qJYKY75jiV2Hy
          6bA4Jo6Rkas/pG6z7gnSS0BdgcbKAMUN1dRrpuh/sDFZCaEj7Ipkru5nXwqClqVx
          5lroB1LHJW5gMtmiYqBzTVVDqxX/JFSBxk04Uxgl/e8svQVEQ2/t/g==
          -----END RSA PRIVATE KEY-----
        ca: |
          -----BEGIN CERTIFICATE-----
          MIIFUzCCAzugAwIBAgIUGfpxaumpt2PF62TT2fDJV5DvfH0wDQYJKoZIhvcNAQEL
          BQAwOTETMBEGA1UECgwKb3JhbmdlLmNvbTEiMCAGA1UEAwwZcmVkaXMtc2VudGlu
          ZWwtc2hhcmVkLXRsczAeFw0yMDA5MTAxMTE5MzFaFw0zMDA5MDgxMTE5MzFaMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC/Fkl+u4iU
          Hv3FpHnQoGVQE8p+vuPYorECZ6T2AjN+o0cGERuKIqGxNoxN3keltcCtN451fvid
          K9j3epDUPp3RRKoqInqq+uQtwLpUXexdpmnYJ8uZUdc8jSzrc0gv9uZetw/tHNBU
          CGKKwd44+Q5Zet9QPglsQvOKU/cZEUCw+a3ORzXzelXxr3nuMbBUyUQtUpqpHDEl
          QViddjjTBDCmVpP6grYsyteHzVoL6k5kDf+2V7kssQbDepCWsqjKhz+Tkaa3bPq1
          iIpIIFDAYK+HX3lIFYrPrBobd0e47He1qSAzxoGCWyNzqciukzKB5KT5E5/LybNx
          v4rH84xIkRZGViA/P0AgM4NmfjTCA/RizU8C9VJQc9lwsV9GftiG0Rd2ooL9sI6E
          bY9QKbo5qlw3EBwsjcXHM1zGQXBM6/Ps1f83Cr73E/jlzPvyWBm7FBz/NNepy6Gp
          MClZWp7BF1+O68dpF07uZF0GheAPhup2eRoDBIA3XzEzfcnbbFwGu4mUEOmhQSC5
          TUxIKUUyvt+GBJxOtbgxnqc/teTuHdGQM31nMfLO5cI+xlymBB47qyjxww7NjXiP
          jwCvtFwNE79SNYlGxQHGhY2vKEr8lPhfauFQvdIGmGQUhdf6vU/9ppErBzvz7aPN
          IC0xn53Zl+DyTIwQhCdMxT1LUzfOtSLw9wIDAQABo1MwUTAdBgNVHQ4EFgQUo9s4
          8M+ZGMEYFzxONvBxDuNsXBMwHwYDVR0jBBgwFoAUo9s48M+ZGMEYFzxONvBxDuNs
          XBMwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAgEAi3ZvWAsMly9y
          2xHNwc7KfUGN2nSK6ssCwnz+Ni9lAGbHzn0/byqfnfT0pghqtfp7mD0sYvpkKv9+
          iI47hKoJ7xwcvKXGnWORBHMqEIdiZwxynm+w06/NU1bDfYyt1YZkqiAxIoYu6EUS
          ItyDBsSM/2DYNsv+OyF5zyhH9MjPdSGORW4TWrED00JiydRXV9Q3vDb1SW+o6CDO
          /PWitlgY3ssMmKmrFaQzCvv/Y/w4WMyyywty6+vnXcO1KXyDfCB2MnjEe326CAtZ
          2LsxCRUOJdDqTjEreDuXbBmiOsI1m9p1UYihHbQCuWVV10vGlU0+rLn19PTne6BS
          F9EOsMoTzkd+5OUK09H18Fw677fONpZ0PeufJSLE3BM8OsoYVaCRPsFsnJst9VH4
          BWYoSsIQYOFav9zA4u55jnrNkKFt6moaIrtkuqJKDOUTnnkAUDwjTn+QN22OcRmH
          Eyh4E2hdyTPYM1csPOSkMsOleNMohxk+1oXCWswMeqvTe5zeNPdJ5+ogoZS7j7tm
          IGNHgNcC5Wfi2eT+fKsDdKBCgeK+XMTmOjUtRle+h+Q3O7T74U5NexVrHf+R10K7
          DflJPxUrSbxH0phFgxqKFykhcQfEXzLan/th+B1cnp2+y2kIpNpkxUnRGAh+iKtL
          PTDhxGQ3hAlmpK4bZK8DXEBYIsiGRCM=
          -----END CERTIFICATE-----
- name: broker
  azs: [((default_az))]
  instances: 1
  vm_type: ((default_vm_type))
  stemcell: default
  persistent_disk_type: ((default_persistent_disk_type))
  networks:
  - name: ((default_network))
  jobs:
  - name: redis_broker-1.5
    release: redis-service
    consumes:
      redis_sentinel_conn: {from: ((shared_sentinel_master)), deployment: ((shared_sentinel_deployment))}
    properties:
      bind: ((redis_bind))
      password: ((redis_broker_password))
      tls_keys:
        certificate: |
          -----BEGIN CERTIFICATE-----
          MIIECjCCAfICFGusl0TjbsYRkOhMhkP+fDlkgGhfMA0GCSqGSIb3DQEBCwUAMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwHhcNMjAwOTEwMTEyNDAxWhcNMjEwOTEwMTEyNDAxWjBKMRMwEQYD
          VQQKDApvcmFuZ2UuY29tMSIwIAYDVQQLDBlyZWRpcy1zZW50aW5lbC1zaGFyZWQt
          dGxzMQ8wDQYDVQQDDAZCcm9rZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
          AoIBAQCzHZiF+YorgGI7vcIp5g9Nl6qS7m7F1m74cwzCzErwI7QQ04yQzkE0uLvz
          aYaAGWHPt6ylSYPRErf3pPwkOdm6+4prtslboGpcTWBUs6ptorFMilKEg9FHHxFe
          8HUetU+fpc9/0RVbDinbNl6w0S6JxO9mc9lhRixwGgH0shs9yc/RAgRNnV54Kmr/
          4CnB4Awgnayn2clYeaVKwWKeE/bSuPUFmHmGHTGgzjStGuIMDqxJNtI2lkRaKWyI
          eQDAEDv9LPhWarwGabmvoAUckclH6Gj2Z/n/Wy0/YBryuLgTf+ZrUfqbymO3Pk1J
          RcQbFOcu1VSDS1RRASnvBDaQyzdjAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAA81
          NouYK9MhURlWrdTEkOq0yx7rHkWP0HY77ulcO8AdnX9zIpkQ46eQAr6S3opocm2e
          hvROumTeH2Gy41oQHnh2p5t9XhoE3sXAPv/g9xzJKTiygJBkBAtPVZbwoLsfyuDQ
          habKGYfkhKlPtQ03uLMMR6yNAhZldOicbtXIRj4kI2eqv128pywqJCaldZpkZ6OH
          wMERUyo2ltL1gvDnj7sy9NLOR1qgSMBotPEVKCU+AgsPvLssIkWsE6XoZIv22msW
          jMWrk+7T97+hqviZeF7sUr3fV+KwktNm+aqYNsrdS8NZMO7bXfJ5rLPLKLLPBdG2
          g3ta25iHrc0neL7OFA6p5M6DZ1a0KOcijIy0rd/6R6FSh93rvsSXw1mSqWxnDtP5
          YXHM69yku2WTkKUYEOcS7u60Z7L31BLSPV1QwMD7IQmzSoltw96U2km+V8f5Nj2+
          AENZjPFG+sqd+NGi9Fo8yZ+A06ZqRFPTh3xyTjC0efVnNRaOYap15xj0l9WP10SN
          ejXcPVRMVExvxWqR3e2DpXiVoPhIpMrBhcEDehklgri7hfsmE6LaesTWv3BmqWEC
          jd48Yt9U02qou8xomMoccEzSDJpkwPXZQMApeBY/dviPzjM/7frQG1x1kziBAqN4
          E3ml/hgujYSf0okqYx/Doe5S7MOotJfKTRE/p+dY
          -----END CERTIFICATE-----
        private_key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAsx2YhfmKK4BiO73CKeYPTZeqku5uxdZu+HMMwsxK8CO0ENOM
          kM5BNLi782mGgBlhz7espUmD0RK396T8JDnZuvuKa7bJW6BqXE1gVLOqbaKxTIpS
          hIPRRx8RXvB1HrVPn6XPf9EVWw4p2zZesNEuicTvZnPZYUYscBoB9LIbPcnP0QIE
          TZ1eeCpq/+ApweAMIJ2sp9nJWHmlSsFinhP20rj1BZh5hh0xoM40rRriDA6sSTbS
          NpZEWilsiHkAwBA7/Sz4Vmq8Bmm5r6AFHJHJR+ho9mf5/1stP2Aa8ri4E3/ma1H6
          m8pjtz5NSUXEGxTnLtVUg0tUUQEp7wQ2kMs3YwIDAQABAoIBACf/hO7uIb/DJKyo
          nHJU0LgIFWxIWG5Pi2pp7sCVdGqZ3n0fcLVpicAnPLmHqCR1BpWnM6OZfhkzL+fa
          bP/99zQ9NdUF9YNDmFzSXp+rm3RuL1+jR/gVo6dZNbzYv57C6GwDUAn/+9/gktJE
          GvMrU1QqqTdcyX9id0v1Uth86X5rcdzYlFxf/9dBDzKOzT7twG9yeDHiujdF7HVO
          zofMlF2k2xSkc7TequT5JtY5MhB8gRT7jEzMMv0oRGVphG5qBgzGeMlZXVCRrHMP
          wD3fnkvrb2i1IwyGv6/OTBluaFTmpX6GjsGo7yrZcXtk8VU1/TU3jR1woMjAg6q4
          EEYos+kCgYEA5iwGa73i6dpWD/jtnbnjuth/e0yVg45w5CPnGfT9D/1DRN0k76JW
          C9nEbpMiG+xkDXy+wg6yhpVEy35pot9NqomloaCNZRzgDtVc82kW5tC3m7sPgtWn
          C255ec/qkfJpr0BNvM1qqenJzLYz5peEaMxG2OabgWI1hsGDD+Nx8BUCgYEAxzbp
          1m67Rh4Vu+OGiQ/tWu8Z6dd7IHFu5ZWOj/vKi3ws0ejSjP9tPb+M+DFgPGUQ58kd
          8BGhcvu1opEVryYBD2HIRyC9cHy34bsI4miQGY6VIcCOtqGDFHWtw3pl3SnVVGCP
          Q/EwZQVm/gy4rT/8affFLO6Jr9Gu2vBtEe1n75cCgYAxZOE73dQEO0acxt63Kl0k
          i7FP1G+Be9/eFZZSi7CC7eaxsINsqXmtsV3mHM0FEQWnn02Qd3b4SrAou0gQG7uf
          DUruFHZDbJ7okAESe0re3YuJb+s0OIVQfrSy31uHVm43naURD0QEkpcrxy38Hifc
          FXpesZ5NdbXm5UAq+LRKwQKBgQC3DJtDIM5NuHkqAv/s00i65Lb/6rLFddV7ebfc
          T3WmQ3x/iJpnWpDLS0ZCDESsWgV1pZQvslOSbv1QGlY9cQNKWgQIb2oCgWcJMK4S
          NBgsk5ouwFuiLrheRV9cHgyZcsYF2Q/rUySvvo4LZC8RapkJ2dRA3BKCDn7HyGHA
          Nk/pkwKBgHCn5dzK+FnLaOL+zhLX2iGBsQlv1cvCh9Q4XKnr/BzkH2NmVXJX9vUD
          Xn5N9ronGqdO0TJLgOJHsocCXYPAEo4j8J/b77tljh5Q4mEmOTx6XdsCqg+rWO2H
          Ky9Ff6A2YpQqAeB6Qu/q6H7UaEjGMPhQbV+aa2CRYxOlw/jRDbmk
          -----END RSA PRIVATE KEY-----
        ca: |
          -----BEGIN CERTIFICATE-----
          MIIFUzCCAzugAwIBAgIUGfpxaumpt2PF62TT2fDJV5DvfH0wDQYJKoZIhvcNAQEL
          BQAwOTETMBEGA1UECgwKb3JhbmdlLmNvbTEiMCAGA1UEAwwZcmVkaXMtc2VudGlu
          ZWwtc2hhcmVkLXRsczAeFw0yMDA5MTAxMTE5MzFaFw0zMDA5MDgxMTE5MzFaMDkx
          EzARBgNVBAoMCm9yYW5nZS5jb20xIjAgBgNVBAMMGXJlZGlzLXNlbnRpbmVsLXNo
          YXJlZC10bHMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC/Fkl+u4iU
          Hv3FpHnQoGVQE8p+vuPYorECZ6T2AjN+o0cGERuKIqGxNoxN3keltcCtN451fvid
          K9j3epDUPp3RRKoqInqq+uQtwLpUXexdpmnYJ8uZUdc8jSzrc0gv9uZetw/tHNBU
          CGKKwd44+Q5Zet9QPglsQvOKU/cZEUCw+a3ORzXzelXxr3nuMbBUyUQtUpqpHDEl
          QViddjjTBDCmVpP6grYsyteHzVoL6k5kDf+2V7kssQbDepCWsqjKhz+Tkaa3bPq1
          iIpIIFDAYK+HX3lIFYrPrBobd0e47He1qSAzxoGCWyNzqciukzKB5KT5E5/LybNx
          v4rH84xIkRZGViA/P0AgM4NmfjTCA/RizU8C9VJQc9lwsV9GftiG0Rd2ooL9sI6E
          bY9QKbo5qlw3EBwsjcXHM1zGQXBM6/Ps1f83Cr73E/jlzPvyWBm7FBz/NNepy6Gp
          MClZWp7BF1+O68dpF07uZF0GheAPhup2eRoDBIA3XzEzfcnbbFwGu4mUEOmhQSC5
          TUxIKUUyvt+GBJxOtbgxnqc/teTuHdGQM31nMfLO5cI+xlymBB47qyjxww7NjXiP
          jwCvtFwNE79SNYlGxQHGhY2vKEr8lPhfauFQvdIGmGQUhdf6vU/9ppErBzvz7aPN
          IC0xn53Zl+DyTIwQhCdMxT1LUzfOtSLw9wIDAQABo1MwUTAdBgNVHQ4EFgQUo9s4
          8M+ZGMEYFzxONvBxDuNsXBMwHwYDVR0jBBgwFoAUo9s48M+ZGMEYFzxONvBxDuNs
          XBMwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAgEAi3ZvWAsMly9y
          2xHNwc7KfUGN2nSK6ssCwnz+Ni9lAGbHzn0/byqfnfT0pghqtfp7mD0sYvpkKv9+
          iI47hKoJ7xwcvKXGnWORBHMqEIdiZwxynm+w06/NU1bDfYyt1YZkqiAxIoYu6EUS
          ItyDBsSM/2DYNsv+OyF5zyhH9MjPdSGORW4TWrED00JiydRXV9Q3vDb1SW+o6CDO
          /PWitlgY3ssMmKmrFaQzCvv/Y/w4WMyyywty6+vnXcO1KXyDfCB2MnjEe326CAtZ
          2LsxCRUOJdDqTjEreDuXbBmiOsI1m9p1UYihHbQCuWVV10vGlU0+rLn19PTne6BS
          F9EOsMoTzkd+5OUK09H18Fw677fONpZ0PeufJSLE3BM8OsoYVaCRPsFsnJst9VH4
          BWYoSsIQYOFav9zA4u55jnrNkKFt6moaIrtkuqJKDOUTnnkAUDwjTn+QN22OcRmH
          Eyh4E2hdyTPYM1csPOSkMsOleNMohxk+1oXCWswMeqvTe5zeNPdJ5+ogoZS7j7tm
          IGNHgNcC5Wfi2eT+fKsDdKBCgeK+XMTmOjUtRle+h+Q3O7T74U5NexVrHf+R10K7
          DflJPxUrSbxH0phFgxqKFykhcQfEXzLan/th+B1cnp2+y2kIpNpkxUnRGAh+iKtL
          PTDhxGQ3hAlmpK4bZK8DXEBYIsiGRCM=
          -----END CERTIFICATE-----
  - name: redis_broker_check-1.5
    release: redis-service

variables:
- name: redis_password
  type: password
  parameters:
    length: ((password_length))
- name: redis_admin_password
  type: password
  parameters:
    length: ((password_length))
- name: redis_exporter_password
  type: password
  parameters:
    length: ((password_length))
- name: redis_replica_password
  type: password
  parameters:
    length: ((password_length))
- name: redis_sentinel_user_password
  type: password
  parameters:
    length: ((password_length))
- name: redis_broker_password
  type: password
  parameters:
    length: ((password_length))
- name: ((shared_sentinel_ca))
  type: certificate
  options:
    common_name: ((shared_sentinel_deployment))
    organization: 'orange.com'
    key_length: ((ca_key_length))
    duration: ((certificate_duration))
    is_ca: true
    self_sign: true
- name: redis_keys
  type: certificate
  options:
    ca: ((shared_sentinel_ca))
    common_name: 'Server'
    organization: 'orange.com'
    organization_unit: ((deployment_name))
    key_length: ((private_key_length))
    duration: ((certificate_duration))
- name: redis_check_keys
  type: certificate
  options:
    ca: ((shared_sentinel_ca))
    common_name: 'Client'
    organization: 'orange.com'
    organization_unit: ((deployment_name))
    key_length: ((private_key_length))
    duration: ((certificate_duration))
- name: redis_broker_keys
  type: certificate
  options:
    ca: ((shared_sentinel_ca))
    common_name: 'Broker'
    organization: 'orange.com'
    organization_unit: ((deployment_name))
    key_length: ((private_key_length))
    duration: ((certificate_duration))
- name: redis_exporter_keys
  type: certificate
  options:
    ca: ((shared_sentinel_ca))
    common_name: 'Exporter'
    organization: 'orange.com'
    organization_unit: ((deployment_name))
    key_length: ((private_key_length))
    duration: ((certificate_duration))

stemcells:
- alias: default
  os: ((stemcell_os))
  version: "((stemcell_version))"

releases:
- name: redis-service
  version: latest

update:
  canaries: 2
  canary_watch_time: 60000-120000
  max_in_flight: 2
  update_watch_time: 60000-120000
  serial: false
